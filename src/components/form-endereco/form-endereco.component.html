<form [formGroup]="enderecosForm">

  <ion-list>

    <ion-item>
      <ion-input formControlName="cep" type="number" placeholder="Insira o CEP e pesquise"></ion-input>
      <ion-button (click)="pesquisarCep()" fill="outline" shape="round" size="small">
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('cep').touched && 
                   enderecosForm.get('cep').hasError('required')">
      CEP é obrigatório
    </div>

    <ion-item>
      <ion-input placeholder="Logradouro" formControlName="logradouro"></ion-input>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('logradouro').hasError('required') && 
            enderecosForm.get('logradouro').touched ">
      Logradouro é obrigatório
    </div>

    <ion-item>
      <ion-input placeholder="Número" formControlName="numero"></ion-input>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('numero').hasError('required') && 
                      enderecosForm.get('numero').touched ">
      Número é obrigatório
    </div>

    <ion-item>
      <ion-input placeholder="Compl" formControlName="complemento"></ion-input>
    </ion-item>

    <ion-item>
      <ion-input placeholder="Bairro" formControlName="bairro"></ion-input>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('bairro').hasError('required') && 
                      enderecosForm.get('bairro').touched ">
      Bairro é obrigatório
    </div>

    <ion-item>
      <ion-input placeholder="Cidade" formControlName="cidade"></ion-input>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('cidade').hasError('required') && 
                      enderecosForm.get('cidade').touched ">
      Cidade é obrigatório
    </div>

    <ion-item>
      <ion-input placeholder="UF" formControlName="uf"></ion-input>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('uf').hasError('required') && 
                      enderecosForm.get('uf').touched ">
      Estado é obrigatório
    </div>

    <ion-item>
      <ion-label position="floating">Tipo Endereço</ion-label>
      <ion-select formControlName="tipoEndereco" interface="popover">
        <ion-select-option value="COMERCIAL">COMERCIAL</ion-select-option>
        <ion-select-option value="RESIDENCIAL">RESIDENCIAL</ion-select-option>
      </ion-select>
    </ion-item>
    <div class="invalido" *ngIf="enderecosForm.get('tipoEndereco').touched && 
                        enderecosForm.get('tipoEndereco').hasError('required')">
      Tipo Endereço é obrigatório
    </div>

    <ion-toolbar style="margin-top: 20px;">
        <ion-button type="submit" icon-left size="medium" expand="full" shape="round" color="primary"
          [disabled]="!enderecosForm.valid" (click)="addEndereco()">
          <ion-icon name="add"></ion-icon>
          Adicionar
        </ion-button>
    </ion-toolbar>

  </ion-list>

</form>